import{d as w,G as x,a as I,H as y,z as v,I as b,J as t,A as r,K as k,L as A,D as o,E as c,B as i,M as B}from"#entry";import{_ as C}from"./4K8f6mhm.js";import{_ as P}from"./BeLkrz8m.js";const $={key:0,class:"absolute inset-0 grid items-center"},g={class:"text-primary flex flex-col justify-center"},E=w({__name:"install",setup(h){const{setPageLayout:u}=x();u(()=>({cmpHeader:null,cmpFooter:null,menuItems:[]}));const{$pwa:s}=I(),{isPWA:p,isInstalled:m,canInstall:d,canUseInBrowser:l}=y(),_=async()=>{if(s&&d.value)try{await s.install(),console.log("Install prompt shown")}catch(n){console.error("Install failed:",n)}else console.log("Install not ready yet")};return(n,e)=>{const a=B;return t(p)?b(n.$slots,"default",{key:1}):(r(),v("div",$,[!t(m)&&t(s)?.showInstallPrompt?(r(),k(t(P),{key:0},{default:c(()=>[i("div",g,[o(a,{icon:"pwa",label:"Install application",onClick:_}),o(a,{icon:"browser",label:"Or use in browser",onClick:e[0]||(e[0]=f=>l.value=!0)})])]),_:1})):A("",!0),o(t(C),{"no-quit":"","model-value":!t(s)?.showInstallPrompt},{default:c(()=>[e[2]||(e[2]=i("div",{class:"text-balance px-10 text-center"}," Please open the installed Focus Assistant application ",-1)),o(a,{icon:"browser",label:"Or use in browser",onClick:e[1]||(e[1]=f=>l.value=!0)})]),_:1},8,["model-value"])]))}}});export{E as default};
