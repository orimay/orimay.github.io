import{i as T,h as M}from"./CN5EsVXz.js";import{d as N,a6 as w,ap as P,a7 as j,a8 as E,s as O,k as q,K as D,A as s,aq as J,E as b,I as C,F as Q,C as W,D as f,B as k,ac as u,z as m,L as G,aQ as H,ad as B,a4 as I,J as d,ab as c,ae as U,af as X,b0 as Y}from"#entry";const Z={class:"shrink-0"},_=["id","value","label","placeholder","rows","disabled","novalidate","readonly","pattern","tabindex","spellcheck","autocomplete","onKeyup"],ee=["id","autocomplete","value","label","placeholder","disabled","novalidate","readonly","pattern","type","inputmode","tabindex","spellcheck","list","onKeyup"],te=["id"],ne=["value"],ae=N({__name:"InputText",props:w({id:{},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},noOutline:{type:Boolean},pattern:{},rows:{default:1},autogrow:{type:Boolean,default:!1},disabled:{type:Boolean},novalidate:{type:Boolean},iconLeft:{},iconClickLeft:{type:Function},iconRight:{},iconClickRight:{type:Function},tabindex:{},type:{default:"text"},inputmode:{default:"text"},autocomplete:{default:()=>["off"]},spellcheck:{type:Boolean,default:!0},options:{},placeholder:{},label:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:w(["focus","blur","enter","delete"],["update:modelValue"]),setup(e,{expose:R,emit:$}){const v=P(),r=j(e,"modelValue"),L=!!e.iconLeft,A=!!e.iconRight,o=$;async function z(l){const t=l.value.length;l.setSelectionRange&&(await Y(),l.setSelectionRange(t,t))}const F=E("input");function S(){F.value?.focus()}R({focus:S});const i=O(!1);function y(l){i.value=!0,o("focus",()=>z(l.target))}function h(){i.value=!1,o("blur")}const p=q(()=>e.autocomplete.join(" "));return(l,t)=>{const V=T,g=I,x=H,K=M;return s(),D(K,{id:e.id,class:u(["a-input-text","cursor-pointer","flex flex-col items-start",{"gap-1":v.label||e.label}]),"has-content":!!r.value,label:e.label,"data-a-input":""},J({default:b(({id:a})=>[f(V,{id:a,autofocus:e.autofocus},null,8,["id","autofocus"]),k("div",{class:u(["input-wrapper focusable","relative w-full overflow-hidden rounded-[0.5em]","flex","transition-[outline] duration-300","text-picked-neon","[[data-bright-placeholder]_&_.input::placeholder]:text-picked-neon",{"focus-within:outline-transparent!":e.noOutline},"bg-back/30 shadow-back/10 shadow-[inset_0_0_0.15em_0.15em]"])},[f(x,{show:!!e.iconLeft,"no-appear":L},{default:b(()=>[k("div",Z,[k("div",{class:u(["grid size-10 place-items-center p-2",[{"pointer-events-none":!e.iconClickLeft}]]),onClick:t[0]||(t[0]=B((...n)=>e.iconClickLeft&&e.iconClickLeft(...n),["prevent"]))},[f(g,{name:e.iconLeft,class:"block"},null,8,["name"])],2)])]),_:1},8,["show"]),e.autogrow||e.rows>1?(s(),m("textarea",{key:0,id:v.default?`text_${a}`:a,ref:"input",value:r.value,label:e.label,class:u(["input","resize-none",{"field-sizing-content min-h-fit":e.autogrow}]),placeholder:e.placeholder,rows:e.rows,disabled:e.disabled,novalidate:e.novalidate,readonly:e.readonly,pattern:e.pattern,tabindex:e.tabindex,spellcheck:e.spellcheck&&d(i),autocomplete:d(p),onInput:t[1]||(t[1]=n=>r.value=n.target.value),onFocus:y,onBlur:h,onKeyup:[c(n=>o("enter",a),["enter"]),t[2]||(t[2]=c(n=>o("delete"),["backspace"])),t[3]||(t[3]=c(n=>o("delete"),["delete"]))],onPointerdown:t[4]||(t[4]=n=>d(i)&&n.stopImmediatePropagation())},null,42,_)):(s(),m("input",{key:1,id:v.default?`text_${a}`:a,ref:"input",autocomplete:d(p),value:r.value,label:e.label,class:u(["input"]),placeholder:e.placeholder,disabled:e.disabled,novalidate:e.novalidate,readonly:e.readonly,pattern:e.pattern,type:e.type,inputmode:e.inputmode,size:1,tabindex:e.tabindex,spellcheck:e.spellcheck&&d(i),list:`list-${a}`,onInput:t[5]||(t[5]=n=>r.value=n.target.value),onFocus:y,onBlur:h,onKeyup:[c(n=>o("enter",a),["enter"]),t[6]||(t[6]=c(n=>o("delete"),["backspace"])),t[7]||(t[7]=c(n=>o("delete"),["delete"]))],onPointerdown:t[8]||(t[8]=n=>d(i)&&n.stopImmediatePropagation())},null,40,ee)),e.options?(s(),m("datalist",{key:2,id:`list-${a}`},[(s(!0),m(U,null,X(e.options,n=>(s(),m("option",{key:n,value:n},null,8,ne))),128))],8,te)):G("",!0),C(l.$slots,"default",{id:a}),f(x,{show:!!e.iconRight,"no-appear":A},{default:b(()=>[k("div",{class:u(["flex size-10 items-center justify-center p-2",[{"pointer-events-none":!e.iconClickRight}]]),onClick:t[9]||(t[9]=B((...n)=>e.iconClickRight&&e.iconClickRight(...n),["prevent"]))},[f(g,{name:e.iconRight},null,8,["name"])],2)]),_:1},8,["show"])],2)]),_:2},[v.label||e.label?{name:"label",fn:b(({id:a})=>[C(l.$slots,"label",{id:a},()=>[Q(W(e.label),1)])]),key:"0"}:void 0]),1032,["id","class","has-content","label"])}}}),ie=Object.assign(ae,{__name:"AInputText"});export{ie as _};
